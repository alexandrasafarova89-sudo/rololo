<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–†—É–ª–µ—Ç–∫–∞ NFT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
    margin:0;
    padding:20px;
    font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;
    background:linear-gradient(135deg,#0f1225,#050714);
    color:#fff;
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height:100vh;
}

/* ===== –≠–ö–†–ê–ù –§–†–ò–°–ü–ò–ù–û–í ===== */
#preScreen{
    position:fixed;
    inset:0;
    background:rgba(5,7,20,.96);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    z-index:9999;
}

#drumBox{
    width:120px;
    height:120px;
    overflow:hidden;
    border-radius:16px;
    border:2px solid gold;
    margin-bottom:20px;
    background:#0b0e1f;
}

#drum{
    display:flex;
    flex-direction:column;
}

.drumItem{
    height:120px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:42px;
    font-weight:700;
}

#enterSpin{
    padding:14px 36px;
    border:none;
    border-radius:26px;
    background:gold;
    font-size:16px;
    cursor:pointer;
}

/* ===== NFT –†–£–õ–ï–¢–ö–ê ===== */
#app{
    display:none;
    flex-direction:column;
    align-items:center;
}

h1{
    margin:10px 0 25px;
    padding:14px 34px;
    font-size:26px;
    border-radius:22px;
    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,215,0,.6);
}
#wheel-container{
    width:100%;
    max-width:720px;
    height:220px;
    overflow:hidden;
    border-radius:20px;
    background:#0b0e1f;
    position:relative;
}
#arrow{
    position:absolute;
    top:0;
    left:50%;
    transform:translateX(-50%);
    width:2px;
    height:100%;
    background:#ff3b3b;
    z-index:999;
}
#wheel{
    display:flex;
    transition:transform 6.5s cubic-bezier(.08,.9,.1,1);
}
.prize{
    width:140px;
    height:200px;
    margin:0 5px;
    flex-shrink:0;
    border-radius:16px;
    background:#1a1d35;
    border:2px solid #2d3055;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}
.prize img{
    max-width:110px;
    max-height:110px;
    border-radius:10px;
    margin-bottom:6px;
}
button{
    margin-top:18px;
    padding:14px 36px;
    border:none;
    border-radius:28px;
    font-size:16px;
    cursor:pointer;
}
#spinBtn{background:#ff3b3b;color:#fff}
#spinBtn:disabled{opacity:.6;cursor:not-allowed}
#getGiftBtn{background:gold;color:#000;display:none}
#closeBtn{background:#333;color:#fff}
#result{margin-top:16px;display:none}
#onlineCounter{
    position:fixed;
    top:10px;
    left:10px;
    padding:6px 12px;
    border-radius:12px;
    background:rgba(0,0,0,.55);
    font-size:13px;
}
#miniBar{
    position:fixed;
    right:10px;
    bottom:14px;
    width:240px;
    display:flex;
    flex-direction:column-reverse;
    gap:6px;
}
.feed{
    background:rgba(0,0,0,.6);
    padding:6px 8px;
    border-radius:10px;
    font-size:12px;
}
@media(max-width:600px){
    #miniBar{
        right:50%;
        transform:translateX(50%);
        bottom:80px;
        width:90%;
    }
}
</style>
</head>

<body>

<!-- ===== –≠–ö–†–ê–ù –§–†–ò–°–ü–ò–ù–û–í ===== -->
<div id="preScreen">
    <h2>üéÅ –§—Ä–∏—Å–ø–∏–Ω—ã</h2>
    <div id="drumBox">
        <div id="drum"></div>
    </div>
    <button id="enterSpin">–ü–æ–ª—É—á–∏—Ç—å —Ñ—Ä–∏—Å–ø–∏–Ω—ã</button>
</div>

<!-- ===== NFT –†–£–õ–ï–¢–ö–ê ===== -->
<div id="app">
<h1>üéÅ –†—É–ª–µ—Ç–∫–∞ NFT-–ø–æ–¥–∞—Ä–∫–æ–≤</h1>

<div id="wheel-container">
    <div id="arrow"></div>
    <div id="wheel"></div>
</div>

<button id="spinBtn">–ö—Ä—É—Ç–∏—Ç—å</button>
<div id="result"></div>
<button id="getGiftBtn">–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫</button>
<button id="closeBtn">–ó–∞–∫—Ä—ã—Ç—å</button>

<div id="onlineCounter"></div>
<div id="miniBar"></div>

<audio id="winSound" preload="auto"
src="https://image2url.com/r2/default/audio/1769643999529-e3ec9dec-df5e-4b91-a2a4-e6982a82ab7e.mp3"></audio>
</div>

<script>
/* ===== –ë–ê–†–ê–ë–ê–ù –§–†–ò–°–ü–ò–ù–û–í ===== */
const drum=document.getElementById('drum');
const enterBtn=document.getElementById('enterSpin');
const preScreen=document.getElementById('preScreen');
const app=document.getElementById('app');

let enterLock=false;

/* –Ω–∞–ø–æ–ª–Ω—è–µ–º –±–∞—Ä–∞–±–∞–Ω */
for(let i=0;i<20;i++){
    for(let n=1;n<=10;n++){
        const d=document.createElement('div');
        d.className='drumItem';
        d.style.height='120px';
        d.style.display='flex';
        d.style.alignItems='center';
        d.style.justifyContent='center';
        d.style.fontSize='42px';
        d.style.fontWeight='700';
        d.textContent=n;
        drum.appendChild(d);
    }
}

enterBtn.onclick=()=>{
    if(enterLock) return;
    enterLock=true;
    enterBtn.disabled=true;

    /* –í–°–ï–ì–î–ê 1 */
    const itemHeight=120;
    const targetIndex=10; // –ø–æ–∑–∏—Ü–∏—è "1"
    const offset=targetIndex*itemHeight + Math.random()*50;

    drum.style.transition='transform 3.5s cubic-bezier(.08,.9,.1,1)';
    drum.style.transform=`translateY(-${offset}px)`;

    setTimeout(()=>{
        alert("üéâ –í–∞–º –≤—ã–ø–∞–ª 1 —Ñ—Ä–∏—Å–ø–∏–Ω!");
        preScreen.style.display='none';
        app.style.display='flex';
    },3600);
};

/* ===== –°–¢–ê–†–´–ô –ö–û–î NFT –†–£–õ–ï–¢–ö–ò ===== */
const prizes=[
{label:"Precious Peach",img:"https://i.imgur.com/2yRxnFO.jpeg",cost:58297},
{label:"Nail Bracelet",img:"https://i.imgur.com/I0OTDPZ.jpeg",cost:38432},
{label:"Astral Shard",img:"https://i.imgur.com/GfJhqte.jpeg",cost:27992},
{label:"Loot Bag",img:"https://i.imgur.com/FWv82Jo.jpeg",cost:13488},
{label:"Gem Signet",img:"https://i.imgur.com/GUVA6Ag.jpeg",cost:15642},
{label:"Diamond",img:"https://i.imgur.com/fBU1h2j.jpeg",cost:100},
{label:"Ring",img:"https://i.imgur.com/IOY4GTw.jpeg",cost:100},
{label:"Champagne",img:"https://i.imgur.com/FfV5cNa.jpeg",cost:50}
];

const wheel=document.getElementById('wheel');
const miniBar=document.getElementById('miniBar');
const result=document.getElementById('result');
const getGiftBtn=document.getElementById('getGiftBtn');
const winSound=document.getElementById('winSound');
const spinBtn=document.getElementById('spinBtn');

let spinning=false;

/* –ª–µ–Ω—Ç–∞ */
for(let i=0;i<25;i++){
    prizes.forEach(p=>{
        const d=document.createElement('div');
        d.className='prize';
        d.dataset.name=p.label;
        d.dataset.cost=p.cost;
        d.innerHTML=`<img src="${p.img}"><div>${p.label}</div><div>${p.cost} ‚≠ê</div>`;
        wheel.appendChild(d);
    });
}

/* –º–∏–Ω–∏–±–∞—Ä */
function addMini(t){
    const d=document.createElement('div');
    d.className='feed';
    d.textContent=t;
    miniBar.prepend(d);
    while(miniBar.children.length>4) miniBar.lastChild.remove();
}

/* –æ–Ω–ª–∞–π–Ω */
let online=420;
setInterval(()=>{
    online+=Math.floor(Math.random()*3)-1;
    online=Math.max(350,online);
    onlineCounter.textContent=`–û–Ω–ª–∞–π–Ω: ${online}`;
},2000);

/* —Ñ–µ–π–∫ –≤—ã–∏–≥—Ä—ã—à–∏ */
setInterval(()=>{
    const p=prizes[Math.floor(Math.random()*prizes.length)];
    addMini(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏–ª ${p.label} –∑–∞ ${p.cost} ‚≠ê`);
},2500);

/* –°–ü–ò–ù */
spinBtn.onclick=()=>{
    if(spinning) return;
    spinning=true;
    spinBtn.disabled=true;

    result.style.display='none';
    getGiftBtn.style.display='none';

    wheel.style.transition='none';
    wheel.style.transform='translateX(0)';
    wheel.offsetHeight;

    wheel.style.transition='transform 6.5s cubic-bezier(.08,.9,.1,1)';

    const max=wheel.scrollWidth-wheel.parentElement.offsetWidth;
    const offset=Math.random()*300+max*0.6;

    wheel.style.transform=`translateX(-${offset}px)`;

    setTimeout(()=>{
        const center=wheel.parentElement.getBoundingClientRect().left+
        wheel.parentElement.offsetWidth/2;

        let win=null;
        document.querySelectorAll('.prize').forEach(i=>{
            const r=i.getBoundingClientRect();
            const c=r.left+r.width/2;
            if(Math.abs(c-center)<r.width/2) win=i;
        });

        if(win){
            winSound.currentTime=0;
            winSound.volume=0.45;
            winSound.play();

            result.style.display='block';
            result.innerHTML=`üéâ –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ <b>${win.dataset.name}</b><br>${win.dataset.cost} ‚≠ê`;
            getGiftBtn.style.display='block';
            addMini(`–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${win.dataset.name} –∑–∞ ${win.dataset.cost} ‚≠ê`);
        }

        spinning=false;
        spinBtn.disabled=false;

    },6500);
};

getGiftBtn.onclick=()=>{
    alert("–ß—Ç–æ–±—ã –∑–∞–±—Ä–∞—Ç—å –ø–æ–¥–∞—Ä–æ–∫ —Å–ª–µ–¥—É–π—Ç–µ –¥–∞–ª—å–Ω–µ–π—à–∏–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ —Å–∞–º–æ–º –±–æ—Ç–µ!");
};
</script>

</body>
</html>
